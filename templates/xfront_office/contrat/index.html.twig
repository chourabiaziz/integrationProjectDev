{% extends 'base_front.html.twig' %}

{% block title %}Offre index
{% endblock %}

{% block body %}


	<style>
		.offer-badge {
			position: absolute;
			top: 0;
			left: 0;
			background-color: red;
			color: white;
			margin-right: 10px;
			padding: 5px;
			font-weight: bold;
		}
	</style>


	<section class="section gradient-banner">

		<div class="shapes-container">
			<div class="shape" data-aos="fade-down-left" data-aos-duration="1500" data-aos-delay="100"></div>
			<div class="shape" data-aos="fade-down" data-aos-duration="1000" data-aos-delay="100"></div>
			<div class="shape" data-aos="fade-up-right" data-aos-duration="1000" data-aos-delay="200"></div>
			<div class="shape" data-aos="fade-up" data-aos-duration="1000" data-aos-delay="200"></div>
			<div class="shape" data-aos="fade-down-left" data-aos-duration="1000" data-aos-delay="100"></div>
			<div class="shape" data-aos="fade-down-left" data-aos-duration="1000" data-aos-delay="100"></div>
			<div class="shape" data-aos="zoom-in" data-aos-duration="1000" data-aos-delay="300"></div>
			<div class="shape" data-aos="fade-down-right" data-aos-duration="500" data-aos-delay="200"></div>
			<div class="shape" data-aos="fade-down-right" data-aos-duration="500" data-aos-delay="100"></div>
			<div class="shape" data-aos="zoom-out" data-aos-duration="2000" data-aos-delay="500"></div>
			<div class="shape" data-aos="fade-up-right" data-aos-duration="500" data-aos-delay="200"></div>
			<div class="shape" data-aos="fade-down-left" data-aos-duration="500" data-aos-delay="100"></div>
			<div class="shape" data-aos="fade-up" data-aos-duration="500" data-aos-delay="0"></div>
			<div class="shape" data-aos="fade-down" data-aos-duration="500" data-aos-delay="0"></div>
			<div class="shape" data-aos="fade-up-right" data-aos-duration="500" data-aos-delay="100"></div>
			<div class="shape" data-aos="fade-down-left" data-aos-duration="500" data-aos-delay="0"></div>
		</div>
		<div class="container">
			<div class="row align-items-center">


				<div class="card p-2">
					<h1>Mes contrats</h1>

					<table class="table   ">

						<thead>
							<tr>

								<th class="text-center">Couverture</th>
								<th class="text-center">Prix</th>
								<th class="text-center">De</th>
								<th class="text-center">Jusqu'à</th>

								<th class="text-center">Engagement</th>
								<th class="text-center">Statut</th>
								<th class="text-center">Consulter</th>

								<th class="text-center">Remarque</th>

								<th class="text-center"></th>
							</tr>
						</thead>
						<tbody>
							<div class="mobile-search waves-effect waves-light m-3">
								<div class="header-search">
									<div class="main-search morphsearch-search">
										<div class="row">
											<div class="input-group col-5">
												<form method="get">
													<input type="text" name="search" class="form-control" placeholder="Vous cherche quelqu'un?">

													<button class="btn btn-primary" type="submit">
														<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewbox="0 0 16 16">
															<path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"/>
														</svg>
													</button>
												</form>
											</div>

										</div>

									</div>
								</div>
							</div>


							{% for contrat in contrats %}
								<tr class=" ">

									<td class="text-center">{{ contrat.couverture }}</td>
									<td class="text-center">{{ contrat.prix }}
										TND</td>
									<td class="text-center">{{ contrat.dateDebut ? contrat.dateDebut|date('Y-m-d') : '' }}
									</td>
									<td class="text-center">{{ contrat.dateFin ? contrat.dateFin|date('Y-m-d') : '- - -' }}
									</td>
									<td class="text-center">
										{% if contrat.dateFin %}
											<span class="bg-success b-2 p-2 bordure">
												{{ contrat.engagement }}
												Mois
											</span>
										{% elseif contrat.sent is null %}
											<span class="bg-warning b-2 p-2 bordure">
												Demande</span>
										{% else %}
											<span class="bg-danger b-2 p-2 bordure">
												Non validé</span>
										{% endif %}
									</td>


									<td class="text-center">
										{% if contrat.confirmed == 1 %}
											<span class="bg-success b-2 p-2 bordure">
												actif
											</span>
										{% elseif contrat.statut is null %}
											<span class="bg-warning b-2 p-2 bordure">
												Demande</span>
										{% else %}
											<span class="bg-warning b-2 p-2 bordure">
												Confirmer/refuser</span>
										{% endif %}
									</td>
									<td class="text-center">
										{% if contrat.sent == true and contrat.statut == true and contrat.dateFin %}
											<a class="class=btn btn-mat waves-effect waves-light btn-inverse pr-3 pl-3" style="border-radius: 15px;color:rgb(143, 144, 153);" href="{{contrat.id}}">
												<i style="color: rgb(0, 0, 0);" class="ti-eye"></i>
											</a>


										{% else %}
											En attente l'acceptation d'admin
										{% endif %}

									</td>
									<td class="text-center">
										<button class="btn btn-danger">Réclamation</button>
									</td>

								</tr>
							</td>

						</tbody>
					</tr>
				{% else %}
					<tr>
						<td class="text-center table-danger" colspan="10">Aucun contrat trouvé pour votre recherche
						</td>
					</tr>
				{% endfor %}
			</tbody>
		</table>

	</div>
</div></div><br><br><br><br><br><br><br><br></div></div></div></div></div></div></div></section><br><br><br> {% endblock %}
